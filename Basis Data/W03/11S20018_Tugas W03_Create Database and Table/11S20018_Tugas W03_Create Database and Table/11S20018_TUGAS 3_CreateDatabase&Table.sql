CREATE DATABASE Pemilu_11S20018
GO
USE Pemilu_11S20018
GO
CREATE TABLE PARPOL
(ID			CHAR(2)		NOT NULL,
NAMA		CHAR(8)		NOT NULL,
PRIMARY KEY (ID));
GO
CREATE TABLE CALON
(ID		CHAR(3)			NOT NULL,
NAMA	CHAR(12)		NOT NULL,
PRIMARY KEY (ID));
GO
CREATE TABLE PENCALONAN_PRES_CAWAPRES
(ID					CHAR(4)		NOT NULL,
TAHUN				CHAR(4)		NOT NULL,
NO_URUT_PASANGAN	SMALLINT	NOT NULL,
ID_CAPRES			CHAR(3)		NOT NULL,
ID_CAWAPRES			CHAR(3)		NOT NULL,
JML_SUARA			INT					,
PRIMARY KEY (ID),
FOREIGN KEY (ID_CAPRES)
	REFERENCES CALON (ID),
FOREIGN KEY (ID_CAWAPRES)
	REFERENCES CALON (ID));
GO
CREATE TABLE PARTAI_PENGUSUNG
(ID_PARTAI		CHAR(2)	NOT NULL,
ID_PENCALONAN	CHAR(4)	NOT NULL,
--PRIMARY KEY (ID_PARTAI),
FOREIGN KEY (ID_PARTAI)
	REFERENCES PARPOL (ID),
FOREIGN KEY (ID_PENCALONAN)
	REFERENCES PENCALONAN_PRES_CAWAPRES (ID));
GO
INSERT INTO PARPOL (ID,NAMA) 
	VALUES	(01, 'Demokrat'),
			(02, 'Golkar'),
			(03, 'PDI-P'),
			(04, 'PKS'),
			(05, 'PKB'),
			(06, 'Gerindra');
GO
SELECT * FROM PARPOL
GO
UPDATE PARPOL
SET ID = '01'
WHERE NAMA= 'Demokrat';
UPDATE PARPOL
SET ID = '02'
WHERE NAMA= 'Golkar';
UPDATE PARPOL
SET ID = '03'
WHERE NAMA= 'PDI-P';
UPDATE PARPOL
SET ID = '04'
WHERE NAMA= 'PKS';
UPDATE PARPOL
SET ID = '05'
WHERE NAMA= 'PKB';
UPDATE PARPOL
SET ID = '06'
WHERE NAMA= 'Gerindra';
GO
INSERT INTO CALON (ID,NAMA)
	VALUES	('001', 'Megawati'),
			('002', 'Prabowo'),
			('003', 'SBY'),
			('004', 'Boediono'),
			('005', 'Jusuf Kalla'),
			('006', 'Wiranto'),
			('007', 'Joko Widodo'),
			('008', 'Hatta Rajasa');
GO
SELECT * FROM CALON
GO
INSERT INTO PENCALONAN_PRES_CAWAPRES (ID, TAHUN, NO_URUT_PASANGAN, ID_CAPRES, ID_CAWAPRES, JML_SUARA)
	VALUES	('1109', '2009', 1, '001', '002', 32548105),
			('2109', '2009', 2, '003', '004', 73874562),
			('3109', '2009', 3, '005', '006', 15081814),
			('1114', '2014', 1, '002', '008',		 0),
			('2114', '2014', 2, '007', '005',        0);
GO
SELECT * FROM PENCALONAN_PRES_CAWAPRES
GO
INSERT INTO PARTAI_PENGUSUNG (ID_PARTAI,ID_PENCALONAN)
	VALUES	('01', '2109'),
			('02', '3109'),
			('03', '1109'),
			('04', '2109'),
			('05', '2109'),
			('06', '1109'),
			('02', '1114'),
			('03', '2114'),
			('04', '1114'),
			('05', '2114'),
			('06', '1114');
GO
SELECT * FROM PARTAI_PENGUSUNG
GO
--SELECT * FROM PARPOL
	--WHERE ID=02